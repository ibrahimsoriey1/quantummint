# QuantumMint Mail Server Configuration

# Server Configuration
NODE_ENV=development
PORT=8080
API_PORT=8081

# Domain Configuration
MAIL_DOMAIN=quantummint.com
MAIL_SERVER_IP=127.0.0.1
WEB_INTERFACE_IP=127.0.0.1

# SMTP Server Configuration
SMTP_PORT=25
SMTP_SUBMISSION_PORT=587
SMTP_SECURE_PORT=465
SMTP_HOSTNAME=mail.quantummint.com

# IMAP Server Configuration
IMAP_PORT=143
IMAP_SECURE_PORT=993
IMAP_HOSTNAME=mail.quantummint.com

# POP3 Server Configuration
POP3_PORT=110
POP3_SECURE_PORT=995
POP3_HOSTNAME=mail.quantummint.com

# TLS/SSL Configuration
TLS_CERT_PATH=./certs
TLS_CERT_FILE=certificate.crt
TLS_KEY_FILE=private.key
TLS_CA_FILE=ca-bundle.crt

# Database Configuration
MONGODB_URI=mongodb://localhost:27017/quantummail
MONGODB_OPTIONS={"useNewUrlParser":true,"useUnifiedTopology":true}

# Redis Configuration (for caching and queues)
REDIS_URI=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# Security Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
API_KEY_SECRET=your-api-key-secret-change-this
ENCRYPTION_KEY=your-32-character-encryption-key-here

# Email Authentication
ENABLE_SPF=true
ENABLE_DKIM=true
ENABLE_DMARC=true
DKIM_SELECTOR=quantum
DKIM_PRIVATE_KEY_PATH=./keys/dkim

# Anti-Spam Configuration
ENABLE_ANTISPAM=true
SPAMASSASSIN_HOST=localhost
SPAMASSASSIN_PORT=783
SPAM_THRESHOLD=5.0

# Anti-Virus Configuration
ENABLE_ANTIVIRUS=true
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100
EMAIL_RATE_LIMIT_WINDOW=60000
EMAIL_RATE_LIMIT_MAX=50

# Queue Configuration
QUEUE_CONCURRENCY=10
QUEUE_MAX_ATTEMPTS=3
QUEUE_RETRY_DELAY=30000

# Logging Configuration
LOG_LEVEL=info
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# DNS Provider Configuration (choose one)
# Cloudflare
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
CLOUDFLARE_ZONE_ID=your-zone-id

# Route53
ROUTE53_ACCESS_KEY=your-aws-access-key
ROUTE53_SECRET_KEY=your-aws-secret-key
ROUTE53_REGION=us-east-1

# DigitalOcean
DIGITALOCEAN_API_TOKEN=your-digitalocean-token

# DMARC Configuration
DMARC_POLICY=quarantine
DMARC_REPORT_EMAIL=dmarc-reports@quantummint.com

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=quantummail-backups
BACKUP_S3_REGION=us-east-1

# Monitoring Configuration
MONITORING_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
METRICS_RETENTION_DAYS=7

# External Service Integration
# Mailgun (for backup delivery)
MAILGUN_API_KEY=your-mailgun-api-key
MAILGUN_DOMAIN=mg.quantummint.com

# SendGrid (alternative backup)
SENDGRID_API_KEY=your-sendgrid-api-key

# Notification Configuration
ADMIN_EMAIL=admin@quantummint.com
ALERT_WEBHOOK_URL=https://hooks.slack.com/your-webhook
NOTIFICATION_FROM=alerts@quantummint.com

# Performance Configuration
MAX_MESSAGE_SIZE=26214400
MAX_RECIPIENTS_PER_MESSAGE=50
MAX_ATTACHMENTS=10
CONNECTION_TIMEOUT=300000
IDLE_TIMEOUT=1800000

# Allowed Origins (for CORS)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://quantummint.com

# Feature Flags
ENABLE_WEB_INTERFACE=true
ENABLE_API=true
ENABLE_ANALYTICS=true
ENABLE_DNS_MANAGEMENT=true
ENABLE_AUTORESPONDER=true
ENABLE_FORWARDING=true
ENABLE_ALIASES=true

# Development/Testing
ENABLE_TEST_MODE=false
TEST_EMAIL_DOMAIN=test.quantummint.com
MOCK_EXTERNAL_SERVICES=false
